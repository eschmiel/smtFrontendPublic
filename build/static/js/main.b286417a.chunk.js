(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){e.exports=n(41)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(14),r=n.n(s),i=(n(21),n(2)),o=n(3),u=n(1),l=n(5),h=n(4),m=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleMenuStateChange=a.handleMenuStateChange.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleMenuStateChange",value:function(){this.props.onMenuStateChange("CreatingAccount")}},{key:"render",value:function(){return c.a.createElement("div",{className:"CreateAccountBtn MenuBtn",onClick:this.handleMenuStateChange}," Create Account ")}}]),n}(c.a.Component),d=n(6),p=n.n(d),b=n(7),f=(n(9),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleUsernameChange=a.handleUsernameChange.bind(Object(u.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleLogin=a.handleLogin.bind(Object(u.a)(a)),a.state={username:"",password:""},a}return Object(o.a)(n,[{key:"handleLogin",value:function(e){this.props.onLogin(e)}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("username",this.state.username),n.append("password",this.state.password),a=new Request("https://streamtoggle-backend.herokuapp.com/login",{method:"POST",credentials:"include",body:n}),e.next=7,fetch(a,{credentials:"include"});case 7:return c=e.sent,e.next=10,c.json();case 10:s=e.sent,this.handleLogin(s.username);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"AccountFormContainer"},c.a.createElement("form",{onSubmit:this.handleSubmit,className:"AccountForm"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("label",{for:"username"},"Username: "),c.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleUsernameChange,required:!0})),c.a.createElement("li",null,c.a.createElement("label",{for:"password"},"Password: "),c.a.createElement("input",{type:"password",value:this.state.value,onChange:this.handlePasswordChange,required:!0})),c.a.createElement("li",null,c.a.createElement("button",{type:"submit",className:"ContentBtn"},"Login ")))),c.a.createElement("div",{className:"RecoverPasswordBtn"},"Recover Password"))}}]),n}(c.a.Component)),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleFormChange=a.handleFormChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleMenuStateChange=a.handleMenuStateChange.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleFormChange",value:function(e){switch(e.target.name){case"username":this.setState({username:e.target.value});break;case"password":this.setState({password:e.target.value});break;default:console.log("Attemped to set state on something that is not a create account form field")}}},{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("username",this.state.username),n.append("password",this.state.password),a=new Request("https://streamtoggle-backend.herokuapp.com/account/createUserAccount",{method:"POST",credentials:"include",body:n}),e.next=7,fetch(a);case 7:return c=new Request("https://streamtoggle-backend.herokuapp.com/login",{method:"POST",credentials:"include",body:n}),e.next=10,fetch(c);case 10:return s=e.sent,e.next=13,s.json();case 13:r=e.sent,this.props.onLogin(r.username);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleMenuStateChange",value:function(){this.props.onMenuStateChange("LoggingIn")}},{key:"render",value:function(){return c.a.createElement("div",{className:"CreateAccountContent"},c.a.createElement("div",{className:"AccountFormContainer"},c.a.createElement("h2",null,"Create Account"),c.a.createElement("form",{className:"AccountForm",onSubmit:this.handleSubmit},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("label",{for:"username"},"Username: "),c.a.createElement("input",{type:"text",id:"username",name:"username",value:this.state.username,onChange:this.handleFormChange,required:!0})),c.a.createElement("li",null,c.a.createElement("label",{for:"password"},"Password: "),c.a.createElement("input",{type:"text",id:"password",name:"password",value:this.state.password,onChange:this.handleFormChange,required:!0})),c.a.createElement("li",{className:"CreateAccountFormBtns"},c.a.createElement("button",{type:"submit",className:"ContentBtn"},"Create Account"),c.a.createElement("button",{type:"button",className:"ContentBtn",onClick:this.handleMenuStateChange},"Cancel"))))))}}]),n}(c.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleMenuStateChange=a.handleMenuStateChange.bind(Object(u.a)(a)),a.state={menuState:"LoggingIn"},a}return Object(o.a)(n,[{key:"handleMenuStateChange",value:function(e){this.setState({menuState:e})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"Menubar"},c.a.createElement("img",{src:"./images/smt-logo.png",alt:"Social Media Toggle by Schmiel logo",className:"logo"}),"LoggingIn"===this.state.menuState?c.a.createElement(m,{onMenuStateChange:this.handleMenuStateChange}):""),"LoggingIn"===this.state.menuState?c.a.createElement(f,{onLogin:this.props.onLogin}):"CreatingAccount"===this.state.menuState?c.a.createElement(w,{onMenuStateChange:this.handleMenuStateChange,onLogin:this.props.onLogin}):"")}}]),n}(c.a.Component),v=(n(10),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={authorizationLink:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://streamtoggle-backend.herokuapp.com/account/linkTwitterAccount",{method:"GET",credentials:"include"}).then((function(e){return e.text()})).then((function(t){return e.setState({authorizationLink:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"PromptContainer"},c.a.createElement("h3",null,"Link your Twitter Account"),c.a.createElement("a",{href:this.state.authorizationLink},c.a.createElement("div",{className:"SubmenuBtn"},"Link Account")))}}]),n}(c.a.Component)),S=(n(23),n(15)),E=(n(11),n(12),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"TweetTitle"},c.a.createElement("input",{type:"text",id:"TweetTitle",name:"tweetTitle",value:this.props.tweet_title,onChange:this.handleChange}))}}]),n}(c.a.Component)),C=(n(24),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(u.a)(a)),a.options=e.twitterAccounts.map((function(e){return c.a.createElement("option",{value:e.account_id}," ",e.screen_name," ")})),a}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"TwitterAccount"},c.a.createElement("h3",null,"Twitter:"),c.a.createElement("select",{id:"TwitterAccount",name:"twitterAccount",value:this.props.account_id,onChange:this.handleChange},this.options))}}]),n}(c.a.Component)),k=(n(25),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleChange",value:function(e){this.props.handleChange(e)}},{key:"render",value:function(){return c.a.createElement("textarea",{name:"tweetText",style:{height:"80px"},className:"TweetTextEdit",value:this.props.tweet_text,onChange:this.handleChange})}}]),n}(c.a.Component)),O=(n(26),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).cancel=a.cancel.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"cancel",value:function(){this.props.onChangeTweetState("Display")}},{key:"render",value:function(){return c.a.createElement("div",{className:"TweetBtnContainer"},c.a.createElement("div",{className:"TweetBtn",onClick:this.cancel},"CANCEL"),c.a.createElement("button",{type:"submit",className:"TweetBtn"},"CONFIRM"))}}]),n}(c.a.Component)),T=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var c={tweet_title:"",tweet_text:"",account_id:e.formOptions.twitterAccounts[0].account_id};return a.state={formData:Object.assign(c,e.formOptions.tweet),formOptions:Object.assign({tweet:{},addedSubmitData:{},submitRequestUrl:"/",handlePostSubmit:function(){},onCancel:function(){}},e.formOptions)},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleChange",value:function(e){switch(this.formEdits=Object.assign({},this.state.formData),this.propertyEdit=e.target.type,this.propertyEdit){case"text":this.formEdits.tweet_title=e.target.value;break;case"select-one":this.formEdits.account_id=e.target.value;break;case"textarea":this.formEdits.tweet_text=e.target.value;break;default:console.log("Attempted to change a property that is not a tweet edit form field")}this.setState({formData:Object.assign({},this.formEdits)})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),(n=new FormData).append("account_id",this.state.formData.account_id),n.append("tweet_title",this.state.formData.tweet_title),n.append("tweet_text",this.state.formData.tweet_text),a=0,c=Object.entries(this.state.formOptions.addedSubmitData);a<c.length;a++)s=Object(S.a)(c[a],2),r=s[0],i=s[1],n.append(r,i);return o=this.state.formOptions.submitRequestUrl,u=new Request(o,{method:"POST",credentials:"include",body:n}),e.next=10,fetch(u);case 10:l=e.sent,this.state.formOptions.handlePostSubmit(l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.handleSubmit,className:"Tweet"},c.a.createElement("div",{className:"TweetHeader"},c.a.createElement("div",{className:"Toggle"}),c.a.createElement(E,{tweet_title:this.state.formData.tweet_title,handleChange:this.handleChange})),c.a.createElement("div",{className:"TweetContent"},c.a.createElement(C,{account_id:this.state.formData.account_id,twitterAccounts:this.state.formOptions.twitterAccounts,handleChange:this.handleChange}),c.a.createElement(k,{tweet_text:this.state.formData.tweet_text,handleChange:this.handleChange}),c.a.createElement(O,{onChangeTweetState:this.state.formOptions.onCancel})))}}]),n}(c.a.Component),j=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setButtonState=a.setButtonState.bind(Object(u.a)(a)),a.setCreateTweetState=a.setCreateTweetState.bind(Object(u.a)(a)),a.postCreateTweetFormSubmit=a.postCreateTweetFormSubmit.bind(Object(u.a)(a)),a.state={componentState:"Button",formOptions:{tweet:{},twitterAccounts:e.twitterAccounts,addedSubmitData:{username:e.username},submitRequestUrl:"https://streamtoggle-backend.herokuapp.com/tweet/createTweet/",handlePostSubmit:a.postCreateTweetFormSubmit,onCancel:a.setButtonState}},a}return Object(o.a)(n,[{key:"postCreateTweetFormSubmit",value:function(e){this.setButtonState(),this.props.updateTweets()}},{key:"setButtonState",value:function(){this.setState({componentState:"Button"})}},{key:"setCreateTweetState",value:function(){this.setState({componentState:"CreateTweet"})}},{key:"render",value:function(){return c.a.createElement("div",null,"Button"===this.state.componentState?c.a.createElement("div",{className:"NewTweetBtn",onClick:this.setCreateTweetState},"New Tweet"):"CreateTweet"===this.state.componentState?c.a.createElement(T,{formOptions:this.state.formOptions}):"")}}]),n}(c.a.Component);var y=function(e){return c.a.createElement("div",{className:"PromptContainer"},c.a.createElement("h3",null,"Create a tweet"),c.a.createElement(j,{username:e.username,updateTweets:e.updateTweets,twitterAccounts:e.twitterAccounts}))};n(27),n(28);var A=function(e){return c.a.createElement("div",{className:"SettingsMenu"},c.a.createElement("p",{style:{fontWeight:"bold"}},"USER"),c.a.createElement("p",null,e.username),c.a.createElement("div",{className:"BtnContainer"},c.a.createElement("a",{href:"https://eschmiel.github.io/smt"},c.a.createElement("div",{className:"SubmenuBtn"},"About")),c.a.createElement("div",{className:"SubmenuBtn",id:"Unlink Account",onClick:e.changeSubmenuState},"Unlink Account"),c.a.createElement("div",{className:"SubmenuBtn",id:"Delete User",onClick:e.changeSubmenuState},"Delete User")))},N=(n(29),n(30),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleSelect=a.handleSelect.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleSelect",value:function(){this.props.onSelect&&this.props.onSelect(this.props.account_id)}},{key:"render",value:function(){var e;return e=this.props.selected?"AccountSelected":"Account",c.a.createElement("div",{className:e,onClick:this.handleSelect},this.props.name)}}]),n}(c.a.Component));var _=function(e){var t=e.accounts.map((function(t){return c.a.createElement(N,{key:t.account_id,account_id:t.account_id,name:t.screen_name,selected:t.selected,onSelect:e.onSelect})}));return c.a.createElement("div",{className:"AccountContainer"},t)},M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={authorizationLink:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://streamtoggle-backend.herokuapp.com/account/linkTwitterAccount",{method:"GET",credentials:"include"}).then((function(e){return e.text()})).then((function(t){return e.setState({authorizationLink:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"LinkedAccountsMenu"},c.a.createElement("div",{className:"AccountContainer"},c.a.createElement(_,{accounts:this.props.linkedAccounts})),c.a.createElement("a",{href:this.state.authorizationLink},c.a.createElement("div",{className:"SubmenuBtn"},"Link Account")))}}]),n}(c.a.Component);n(31),n(32);var D=function(e){return c.a.createElement("div",{className:"UnlinkAccountConfirmMenu"},c.a.createElement("h3",null,"Are you sure you want to unlink this account?"),c.a.createElement("div",{className:"AccountContainer"},c.a.createElement(_,{accounts:e.selectedAccounts})),c.a.createElement("div",{className:"BtnContainer"},c.a.createElement("div",{className:"SubmenuBtn",id:"Settings",onClick:e.onConfirm},"Confirm"),c.a.createElement("div",{className:"SubmenuBtn",id:"Select",onClick:e.onCancel},"Cancel")))};var L=function(e){return c.a.createElement("div",{className:"UnlinkAccountsMenu"},c.a.createElement(_,{accounts:e.unlinkAccountMenuItems,onSelect:e.onSelect}),c.a.createElement("div",{className:"BtnContainer"},c.a.createElement("div",{className:"SubmenuBtn",id:"Confirm",onClick:e.onConfirm},"Unlink Account"),c.a.createElement("div",{className:"SubmenuBtn",id:"Settings",onClick:e.onCancel},"Cancel")))},x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var c=e.linkedAccounts.map((function(e){return{account_id:e.account_id,screen_name:e.screen_name,selected:!1}}));return a.state={menuState:"Select",unlinkAccountMenuItems:c},a.changeMenuState=a.changeMenuState.bind(Object(u.a)(a)),a.handleSelectMenuConfirm=a.handleSelectMenuConfirm.bind(Object(u.a)(a)),a.select=a.select.bind(Object(u.a)(a)),a.getSelectedAccounts=a.getSelectedAccounts.bind(Object(u.a)(a)),a.unlinkAccount=a.unlinkAccount.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"changeMenuState",value:function(e){this.setState({menuState:e.target.id})}},{key:"handleSelectMenuConfirm",value:function(e){this.getSelectedAccounts().length&&this.changeMenuState(e)}},{key:"select",value:function(e){var t=this.state.unlinkAccountMenuItems.findIndex((function(t){return t.account_id===e})),n=this.state.unlinkAccountMenuItems.map((function(e,n){return n===t&&(e.selected=!e.selected),e}));this.setState({unlinkAccountMenuItems:n})}},{key:"getSelectedAccounts",value:function(){return this.state.unlinkAccountMenuItems.filter((function(e){return e.selected}))}},{key:"unlinkAccount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://streamtoggle-backend.herokuapp.com/account/unlinkTwitterAccount",t=new FormData,this.getSelectedAccounts().forEach((function(e){return t.append("account_id[]",e.account_id)})),n=new Request("https://streamtoggle-backend.herokuapp.com/account/unlinkTwitterAccount",{method:"POST",credentials:"include",body:t}),e.next=7,fetch(n);case 7:this.props.refreshLinkedAccounts(),this.props.refreshTweets(),this.props.changeSubmenuState();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,"Select"===this.state.menuState?c.a.createElement(L,{unlinkAccountMenuItems:this.state.unlinkAccountMenuItems,onSelect:this.select,onConfirm:this.handleSelectMenuConfirm,onCancel:this.props.changeSubmenuState}):"Confirm"===this.state.menuState?c.a.createElement(D,{selectedAccounts:this.getSelectedAccounts(),onCancel:this.changeMenuState,onConfirm:this.unlinkAccount}):"")}}]),n}(c.a.Component),B=(n(33),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleDelete=a.handleDelete.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"handleDelete",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://streamtoggle-backend.herokuapp.com/account/deleteUserAccount",{method:"POST",credentials:"include"});case 2:this.props.onLogout();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"DeleteAccountConfirmMenu"},c.a.createElement("h3",null,"Are you sure you want to delete this account?"),c.a.createElement("div",{className:"AccountContainer"},c.a.createElement(N,{name:this.props.username,selected:!0})),c.a.createElement("div",{className:"BtnContainer"},c.a.createElement("div",{className:"SubmenuBtn",onClick:this.handleDelete},"Confirm"),c.a.createElement("div",{className:"SubmenuBtn",id:"Cancel",onClick:this.props.changeSubmenuState},"Cancel")))}}]),n}(c.a.Component)),U=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a.manageSubmenuState=a.manageSubmenuState.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"manageSubmenuState",value:function(){switch(this.props.currentState){case"Settings":return c.a.createElement(A,{changeSubmenuState:this.props.changeSubmenuState,username:this.props.username});case"Linked Accounts":return c.a.createElement(M,{changeSubmenuState:this.props.changeSubmenuState,linkedAccounts:this.props.twitter_accounts});case"Unlink Account":return c.a.createElement(x,{changeSubmenuState:this.props.changeSubmenuState,linkedAccounts:this.props.twitter_accounts,refreshLinkedAccounts:this.props.refreshLinkedAccounts,refreshTweets:this.props.refreshTweets});case"Delete User":return c.a.createElement(B,{changeSubmenuState:this.props.changeSubmenuState,username:this.props.username,onLogout:this.props.onLogout});default:console.log("Submenu state changed to a not recognized state")}}},{key:"render",value:function(){return c.a.createElement("div",{className:"Submenu"},this.manageSubmenuState())}}]),n}(c.a.Component),P=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={submenuState:""},a.changeSubmenuState=a.changeSubmenuState.bind(Object(u.a)(a)),a.logout=a.logout.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"changeSubmenuState",value:function(e){var t;t=e?e.target.id:"",this.setState({submenuState:t})}},{key:"logout",value:function(){fetch("https://streamtoggle-backend.herokuapp.com/logout",{method:"POST",credentials:"include"});var e=new Date;this.props.onLogout(""),document.cookie="username=; domain=http://www.studioschmiel.com; expires="+e.toUTCString(),document.cookie="connect.sid=; domain=http://www.studioschmiel.com; expires="+e.toUTCString()}},{key:"render",value:function(){return c.a.createElement("div",{className:"Menu"},c.a.createElement("div",{className:"MenuBtn",onClick:this.logout},"Logout"),c.a.createElement("div",{className:"MenuBtn",id:"Settings",onClick:this.changeSubmenuState},"Settings"),c.a.createElement("div",{className:"MenuBtn",id:"Linked Accounts",onClick:this.changeSubmenuState},"Linked Accounts"),c.a.createElement(U,{currentState:this.state.submenuState,changeSubmenuState:this.changeSubmenuState,onLogout:this.logout,username:this.props.username,twitter_accounts:this.props.twitter_accounts,refreshLinkedAccounts:this.props.refreshLinkedAccounts,refreshTweets:this.props.refreshTweets}))}}]),n}(c.a.Component);n(13);var F=function(e){return c.a.createElement("div",{className:"TweetTitle"},c.a.createElement("h2",null,e.tweet_title))};n(34);var R=function(e){return c.a.createElement("div",{className:"TwitterAccount"},c.a.createElement("h3",null,"Twitter:"),c.a.createElement("p",null,e.twitter_account))};n(35);var I=function(e){return c.a.createElement("div",{className:"TweetTextBox"},c.a.createElement("p",{className:"TweetTextContent"},e.tweet_text))},q=(n(36),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setEditState=a.setEditState.bind(Object(u.a)(a)),a.setDeleteState=a.setDeleteState.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"setEditState",value:function(){this.props.onChangeTweetState("Edit")}},{key:"setDeleteState",value:function(){this.props.onChangeTweetState("Delete")}},{key:"render",value:function(){return c.a.createElement("div",{className:"TweetBtnContainer"},c.a.createElement("div",{className:"TweetBtn",onClick:this.setDeleteState},"DELETE"),c.a.createElement("div",{className:"TweetBtn",onClick:this.setEditState},"EDIT"))}}]),n}(c.a.Component)),z=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).toggleTweet=a.toggleTweet.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"toggleTweet",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://streamtoggle-backend.herokuapp.com/tweet/toggleTweet/"+this.props.tweet.post_id,{method:"POST",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.props.refreshTweet(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.twitterAccounts.find((function(t){return t.account_id===e.props.tweet.account_id})).screen_name;return c.a.createElement("div",{className:"Tweet"},c.a.createElement("div",{className:"TweetHeader"},"inactive"===this.props.tweet.active_status?c.a.createElement("div",{className:"Toggle",onClick:this.toggleTweet},c.a.createElement("p",null,"Toggle")):"active"===this.props.tweet.active_status?c.a.createElement("div",{className:"ToggleActive",onClick:this.toggleTweet},c.a.createElement("p",null,"Toggle")):"",c.a.createElement(F,{tweet_title:this.props.tweet.tweet_title})),c.a.createElement("div",{className:"TweetContent"},c.a.createElement(R,{twitter_account:t}),c.a.createElement(I,{tweet_text:this.props.tweet.tweet_text}),c.a.createElement(q,{onChangeTweetState:this.props.onChangeTweetState})))}}]),n}(c.a.Component),W=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleReturnedEditedTweet=a.handleReturnedEditedTweet.bind(Object(u.a)(a)),a.cancel=a.cancel.bind(Object(u.a)(a)),a.state={formOptions:{tweet:Object.assign({},e.tweet),twitterAccounts:e.twitterAccounts,submitRequestUrl:"https://streamtoggle-backend.herokuapp.com/tweet/editTweet/"+e.tweet.post_id,handlePostSubmit:a.handleReturnedEditedTweet,onCancel:a.cancel}},a}return Object(o.a)(n,[{key:"handleReturnedEditedTweet",value:function(e){var t=this;e.json().then((function(e){console.log(e),t.props.refreshTweet(e)})),this.cancel()}},{key:"cancel",value:function(){this.props.onChangeTweetState("Display")}},{key:"render",value:function(){return c.a.createElement(T,{formOptions:this.state.formOptions})}}]),n}(c.a.Component),G=(n(37),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).cancel=a.cancel.bind(Object(u.a)(a)),a.requestTweetDelete=a.requestTweetDelete.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"cancel",value:function(){this.props.onChangeTweetState("Display")}},{key:"requestTweetDelete",value:function(){var e=this;fetch("https://streamtoggle-backend.herokuapp.com/tweet/deleteTweet/"+this.props.tweet.post_id,{method:"POST",credentials:"include"}).then((function(t){return e.props.updateTweets()}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"Tweet"},c.a.createElement("div",{className:"TweetHeader"},c.a.createElement("div",{className:"Toggle"}),c.a.createElement(F,{tweet_title:this.props.tweet.tweet_title})),c.a.createElement("div",{className:"TweetContent"},c.a.createElement("div",{className:"TweetDeleteMenu"},c.a.createElement("h2",null,"Are you sure you want to delete this tweet?"),c.a.createElement("div",{className:"TweetDeleteBtnContainer"},c.a.createElement("div",{className:"TweetDeleteBtn",onClick:this.requestTweetDelete}," CONFIRM"),c.a.createElement("div",{className:"TweetDeleteBtn",onClick:this.cancel},"CANCEL")))))}}]),n}(c.a.Component)),H=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setTweetState=a.setTweetState.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.state={tweetState:"Display"},a}return Object(o.a)(n,[{key:"setTweetState",value:function(e){this.setState({tweetState:e})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a,c,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("account_id",this.state.tweetEdits.account_id),n.append("tweet_title",this.state.tweetEdits.tweet_title),n.append("tweet_text",this.state.tweetEdits.tweet_text),a="https://streamtoggle-backend.herokuapp.com/tweet/editTweet/"+this.state.tweetEdits.post_id,c=new Request(a,{method:"POST",credentials:"include",body:n}),e.next=9,fetch(c);case 9:return s=e.sent,e.next=12,s.json();case 12:r=e.sent,this.props.refreshTweet(r),this.props.onChangeTweetState("Display");case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,"Display"===this.state.tweetState?c.a.createElement(z,{tweet:this.props.tweet,onChangeTweetState:this.setTweetState,twitterAccounts:this.props.twitterAccounts,refreshTweet:this.props.refreshTweet}):"Edit"===this.state.tweetState?c.a.createElement(W,{tweet:this.props.tweet,twitterAccounts:this.props.twitterAccounts,onChangeTweetState:this.setTweetState,refreshTweet:this.props.refreshTweet,handleSubmit:this.handleSubmit}):"Delete"===this.state.tweetState?c.a.createElement(G,{tweet:this.props.tweet,onChangeTweetState:this.setTweetState,updateTweets:this.props.updateTweets}):"")}}]),n}(c.a.Component),J=n(38)(),$=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={tweets:[],twitterAccounts:[]},a.getLinkedAccounts=a.getLinkedAccounts.bind(Object(u.a)(a)),a.getTweets=a.getTweets.bind(Object(u.a)(a)),a.refreshTweet=a.refreshTweet.bind(Object(u.a)(a)),a.buildTweetComponents=a.buildTweetComponents.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getTweets(),this.getLinkedAccounts()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"Menubar"},c.a.createElement("img",{src:"./images/smt-logo.png",alt:"Social Media Toggle by Schmiel logo",className:"logo"}),c.a.createElement(P,{onLogout:this.props.onLogout,twitter_accounts:this.state.twitterAccounts,refreshLinkedAccounts:this.getLinkedAccounts,refreshTweets:this.getTweets,username:this.props.username})),0===this.state.twitterAccounts.length?c.a.createElement(v,null):0===this.state.tweets.length?c.a.createElement(y,{username:this.props.username,updateTweets:this.getTweets,twitterAccounts:this.state.twitterAccounts}):c.a.createElement("div",{id:"TweetsContainer"},this.buildTweetComponents(this.state.tweets),c.a.createElement(j,{username:this.props.username,updateTweets:this.getTweets,twitterAccounts:this.state.twitterAccounts})))}},{key:"buildTweetComponents",value:function(e){var t=this;return e.map((function(e,n){return c.a.createElement(H,{tweet:e,twitterAccounts:t.state.twitterAccounts,refreshTweet:t.refreshTweet,updateTweets:t.getTweets})}))}},{key:"refreshTweet",value:function(e){var t=this.state.tweets.findIndex((function(t){return t.post_id===e.post_id}));if(-1!==t){var n=J(this.state.tweets);n[t]=J(e),this.setState({tweets:n})}}},{key:"getTweets",value:function(){var e=this;fetch("https://streamtoggle-backend.herokuapp.com/tweet/getUserTweets",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){return e.setState({tweets:t})}))}},{key:"getLinkedAccounts",value:function(){var e=this;fetch("https://streamtoggle-backend.herokuapp.com/account/getLinkedAccounts",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){return e.setState({twitterAccounts:t})}))}}]),n}(c.a.Component);n(39),n(40);var K=function(e){return c.a.createElement("div",{className:"SecurityWarning"},c.a.createElement("h3",null,"WARNING"),c.a.createElement("p",null," Security best practices have not been implemented and the Social Media Toggle is not considered a secure system. We do not recommend currently putting any sensitive information into the system such as creating an account with a commonly used password or linking your Twitter account to the Social Media Toggle"),c.a.createElement("h4",null,"This build is for demonstration purposes only"),c.a.createElement("p",null,"A test account can be accessed with the following credentials:"),c.a.createElement("p",null,"Username: test"),c.a.createElement("p",null,"Password: test"),c.a.createElement("p",null,"The test user has access to a test Twitter account that can be found at: ",c.a.createElement("a",{href:"https://twitter.com/AccountSmt"},"https://twitter.com/AccountSmt")," "))},Q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setUsername=a.setUsername.bind(Object(u.a)(a)),a.state={username:document.cookie.split("=")[1]},a}return Object(o.a)(n,[{key:"setUsername",value:function(e){this.setState({username:e}),document.cookie="username="+e}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.username?c.a.createElement($,{username:this.state.username,onLogout:this.setUsername}):c.a.createElement(g,{onLogin:this.setUsername}),c.a.createElement(K,null))}}]),n}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.b286417a.chunk.js.map