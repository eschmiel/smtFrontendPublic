{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\streamToggle\\\\frontend\\\\src\\\\components\\\\loggedIn.js\";\nimport React from 'react';\nimport LinkFirstAccount from './linkFirstAccount.js';\nimport FirstTweet from './firstTweet.js';\nimport Menu from './menu.js';\nimport TweetSection from './tweets/tweetSection.js';\nimport Tweet from './tweets/tweet.js';\n\nconst clone = require('rfdc')();\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tweets: [],\n      twitterAccounts: [],\n      tweetComponents: []\n    };\n    this.refreshTweet = this.refreshTweet.bind(this);\n  }\n\n  buildTweetComponents(tweetObjs) {\n    let newTweetComponents = tweetObjs.map((tweet, index) => /*#__PURE__*/React.createElement(Tweet, {\n      tweet: tweet,\n      twitterAccounts: this.props.twitterAccounts,\n      index: index,\n      refreshTweet: this.props.refreshTweet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 65\n      }\n    }));\n    this.setState({\n      tweetComponents: newTweetComponents\n    });\n  }\n\n  refreshTweet(index, currentTweet) {\n    this.currentTweets = clone(this.state.tweets);\n    this.currentTweets[index] = clone(currentTweet);\n    this.buildTweetComponents(this.currentTweets);\n  }\n\n  componentDidMount() {\n    fetch('/getUserTweets').then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      this.setState({\n        tweets: data\n      });\n      this.buildTweetComponents(data);\n    });\n    fetch('/getLinkedAccounts').then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      this.setState({\n        twitterAccounts: data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Menubar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./images/smt-logo.png\",\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, this.state.tweets[0] ? this.state.tweets[0].tweet_text : ''), this.state.twitterAccounts.length === 0 ? /*#__PURE__*/React.createElement(LinkFirstAccount, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 63\n      }\n    }) : this.state.tweets.length === 0 ? /*#__PURE__*/React.createElement(FirstTweet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(TweetSection, {\n      tweets: this.state.tweets,\n      twitterAccounts: this.state.twitterAccounts,\n      refreshTweet: this.refreshTweet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nexport default LoggedIn;","map":{"version":3,"sources":["C:/repos/streamToggle/frontend/src/components/loggedIn.js"],"names":["React","LinkFirstAccount","FirstTweet","Menu","TweetSection","Tweet","clone","require","LoggedIn","Component","constructor","props","state","tweets","twitterAccounts","tweetComponents","refreshTweet","bind","buildTweetComponents","tweetObjs","newTweetComponents","map","tweet","index","setState","currentTweet","currentTweets","componentDidMount","fetch","then","response","json","data","console","log","render","tweet_text","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,MAAD,CAAP,EAAd;;AAEA,MAAMC,QAAN,SAAuBR,KAAK,CAACS,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,eAAe,EAAE,EAFR;AAGTC,MAAAA,eAAe,EAAE;AAHR,KAAb;AAMA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AAEH;;AAGDC,EAAAA,oBAAoB,CAACC,SAAD,EAAY;AAE7B,QAAIC,kBAAkB,GAAGD,SAAS,CAACE,GAAV,CAAc,CAACC,KAAD,EAAQC,KAAR,kBAAkB,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAED,KAAd;AAAqB,MAAA,eAAe,EAAE,KAAKX,KAAL,CAAWG,eAAjD;AAAkE,MAAA,KAAK,EAAES,KAAzE;AAAgF,MAAA,YAAY,EAAE,KAAKZ,KAAL,CAAWK,YAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhC,CAAzB;AAEC,SAAKQ,QAAL,CAAc;AAAET,MAAAA,eAAe,EAAEK;AAAnB,KAAd;AACH;;AAEDJ,EAAAA,YAAY,CAACO,KAAD,EAAQE,YAAR,EAAsB;AAE9B,SAAKC,aAAL,GAAqBpB,KAAK,CAAC,KAAKM,KAAL,CAAWC,MAAZ,CAA1B;AAEA,SAAKa,aAAL,CAAmBH,KAAnB,IAA4BjB,KAAK,CAACmB,YAAD,CAAjC;AAEA,SAAKP,oBAAL,CAA0B,KAAKQ,aAA/B;AAEH;;AAEDC,EAAAA,iBAAiB,GAAG;AAEhBC,IAAAA,KAAK,CAAC,gBAAD,CAAL,CAAwBC,IAAxB,CAA8BC,QAAD,IAAc;AAAE,aAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,KAAtE,EAAwEF,IAAxE,CAA8EG,IAAD,IAAU;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAAmB,WAAKR,QAAL,CAAc;AAAEX,QAAAA,MAAM,EAAEmB;AAAV,OAAd;AAAiC,WAAKd,oBAAL,CAA0Bc,IAA1B;AAAkC,KAA/K;AACAJ,IAAAA,KAAK,CAAC,oBAAD,CAAL,CAA4BC,IAA5B,CAAkCC,QAAD,IAAc;AAAE,aAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,KAA1E,EAA4EF,IAA5E,CAAkFG,IAAD,IAAU;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAAmB,WAAKR,QAAL,CAAc;AAAEV,QAAAA,eAAe,EAAEkB;AAAnB,OAAd;AAA2C,KAA3J;AAEH;;AAGDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAC,uBAAT;AAAiC,MAAA,SAAS,EAAC,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKvB,KAAL,CAAWC,MAAX,CAAkB,CAAlB,IAAuB,KAAKD,KAAL,CAAWC,MAAX,CAAkB,CAAlB,EAAqBuB,UAA5C,GAAyD,EAA7D,CALJ,EAOQ,KAAKxB,KAAL,CAAWE,eAAX,CAA2BuB,MAA3B,KAAsC,CAAtC,gBAA0C,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA1C,GACA,KAAKzB,KAAL,CAAWC,MAAX,CAAkBwB,MAAlB,KAA6B,CAA7B,gBAAiC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjC,gBACA,oBAAC,YAAD;AAAc,MAAA,MAAM,EAAE,KAAKzB,KAAL,CAAWC,MAAjC;AAAyC,MAAA,eAAe,EAAE,KAAKD,KAAL,CAAWE,eAArE;AAAsF,MAAA,YAAY,EAAE,KAAKE,YAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATR,CADJ;AAcH;;AAvDkC;;AA2DvC,eAAeR,QAAf","sourcesContent":["import React from 'react';\r\n\r\nimport LinkFirstAccount from './linkFirstAccount.js';\r\nimport FirstTweet from './firstTweet.js';\r\nimport Menu from './menu.js';\r\nimport TweetSection from './tweets/tweetSection.js';\r\nimport Tweet from './tweets/tweet.js';\r\n\r\nconst clone = require('rfdc')();\r\n\r\nclass LoggedIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tweets: [],\r\n            twitterAccounts: [],\r\n            tweetComponents: []\r\n        };\r\n\r\n        this.refreshTweet = this.refreshTweet.bind(this);\r\n\r\n    }\r\n\r\n\r\n    buildTweetComponents(tweetObjs) {\r\n\r\n       let newTweetComponents = tweetObjs.map((tweet, index) => <Tweet tweet={tweet} twitterAccounts={this.props.twitterAccounts} index={index} refreshTweet={this.props.refreshTweet} />)\r\n\r\n        this.setState({ tweetComponents: newTweetComponents });\r\n    }\r\n\r\n    refreshTweet(index, currentTweet) {\r\n\r\n        this.currentTweets = clone(this.state.tweets);\r\n\r\n        this.currentTweets[index] = clone(currentTweet);\r\n\r\n        this.buildTweetComponents(this.currentTweets);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n       \r\n        fetch('/getUserTweets').then((response) => { return response.json(); }).then((data) => { console.log(data); this.setState({ tweets: data }); this.buildTweetComponents(data); });\r\n        fetch('/getLinkedAccounts').then((response) => { return response.json(); }).then((data) => { console.log(data); this.setState({ twitterAccounts: data }); });\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"Menubar\">\r\n                    <img src=\"./images/smt-logo.png\" className=\"logo\" />\r\n                    <Menu />\r\n                </div>\r\n                <p>{this.state.tweets[0] ? this.state.tweets[0].tweet_text : ''}</p>\r\n                {\r\n                    this.state.twitterAccounts.length === 0 ? <LinkFirstAccount /> :\r\n                    this.state.tweets.length === 0 ? <FirstTweet /> :\r\n                    <TweetSection tweets={this.state.tweets} twitterAccounts={this.state.twitterAccounts} refreshTweet={this.refreshTweet}/>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default LoggedIn;"]},"metadata":{},"sourceType":"module"}