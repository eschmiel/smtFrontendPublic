{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\streamToggle\\\\frontend\\\\src\\\\components\\\\login\\\\createAccountForm.js\";\nimport React from 'react';\nimport '../../css/login/AccountForm.css';\n\nclass CreateAccountForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleMenuStateChange = this.handleMenuStateChange.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  handleFormChange(event) {\n    switch (event.target.name) {\n      case 'username':\n        this.setState({\n          username: event.target.value\n        });\n        break;\n\n      case 'password':\n        this.setState({\n          password: event.target.value\n        });\n        break;\n    }\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let newUserData = new FormData();\n    newUserData.append('username', this.state.username);\n    newUserData.append('password', this.state.password);\n    let createUserRequest = new Request('/createUserAccount', {\n      method: 'POST',\n      body: newUserData\n    });\n    await fetch(createUserRequest);\n    let loginRequest = new Request('/login', {\n      method: 'POST',\n      body: newUserData\n    });\n    let response = await fetch(loginRequest);\n    let data = response.json();\n    console.log(data.username);\n    this.handleLogin(data.username);\n  }\n\n  handleLogin(username) {\n    this.props.onLogin(username);\n  }\n\n  handleMenuStateChange() {\n    this.props.onMenuStateChange('LoggingIn');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CreateAccountContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"AccountFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"AccountForm\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Username: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"username\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleFormChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, \"Password: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleFormChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"CreateAccountFormBtns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"ContentBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"ContentBtn\",\n      onClick: this.handleMenuStateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, \"Cancel\"))))));\n  }\n\n}\n\nexport default CreateAccountForm;","map":{"version":3,"sources":["C:/repos/streamToggle/frontend/src/components/login/createAccountForm.js"],"names":["React","CreateAccountForm","Component","constructor","props","state","username","password","handleFormChange","bind","handleSubmit","handleMenuStateChange","handleLogin","event","target","name","setState","value","preventDefault","newUserData","FormData","append","createUserRequest","Request","method","body","fetch","loginRequest","response","data","json","console","log","onLogin","onMenuStateChange","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../../css/login/AccountForm.css';\r\n\r\nclass CreateAccountForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        };\r\n\r\n        this.handleFormChange = this.handleFormChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleMenuStateChange = this.handleMenuStateChange.bind(this);\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n    }\r\n\r\n\r\n    handleFormChange(event) {\r\n        switch (event.target.name) {\r\n            case 'username': this.setState({ username: event.target.value }); break;\r\n            case 'password': this.setState({ password: event.target.value }); break;\r\n        }\r\n    }\r\n\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        let newUserData = new FormData();\r\n\r\n        newUserData.append('username', this.state.username);\r\n        newUserData.append('password', this.state.password);\r\n\r\n        let createUserRequest = new Request('/createUserAccount',\r\n            {\r\n                method: 'POST',\r\n                body: newUserData\r\n            });\r\n\r\n        await fetch(createUserRequest);\r\n\r\n        let loginRequest = new Request('/login',\r\n            {\r\n                method: 'POST',\r\n                body: newUserData\r\n            });\r\n\r\n        let response = await fetch(loginRequest);\r\n        let data = response.json();\r\n        console.log(data.username);\r\n        this.handleLogin(data.username);\r\n    }\r\n\r\n    handleLogin(username) {\r\n        this.props.onLogin(username);\r\n    }\r\n\r\n    handleMenuStateChange() {\r\n        this.props.onMenuStateChange('LoggingIn');\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"CreateAccountContent\">\r\n                \r\n                <div className=\"AccountFormContainer\">\r\n                    <h2>Create Account</h2>\r\n                    <form className=\"AccountForm\" onSubmit={this.handleSubmit} >\r\n                        <ul>\r\n                            <li>\r\n                                <label for=\"username\">Username: </label>\r\n                                <input type=\"text\" id=\"username\" name=\"username\" value={this.state.username} onChange={this.handleFormChange} required />\r\n                            </li>\r\n                            <li>\r\n                                <label for=\"password\">Password: </label>\r\n                                <input type=\"text\" id=\"password\" name=\"password\" value={this.state.password} onChange={this.handleFormChange} required />\r\n                            </li>\r\n                            <li className=\"CreateAccountFormBtns\">\r\n                                <button type=\"submit\" className=\"ContentBtn\">Create Account</button>\r\n                                <button type=\"button\" className=\"ContentBtn\" onClick={this.handleMenuStateChange}>Cancel</button>\r\n                            </li>\r\n                        </ul>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CreateAccountForm;"]},"metadata":{},"sourceType":"module"}