{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\streamToggle\\\\frontend\\\\src\\\\components\\\\loggedIn.js\";\nimport React from 'react';\nimport LinkFirstAccount from './linkFirstAccount.js';\nimport FirstTweet from './firstTweet.js';\nimport Menu from './menu.js';\nimport Tweet from './tweets/tweet.js';\nimport NewTweet from './tweets/newTweet.js';\n\nconst clone = require('rfdc')();\n\nclass LoggedIn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tweets: [],\n      twitterAccounts: []\n    };\n    this.getLinkedAccounts = this.getLinkedAccounts.bind(this);\n    this.getTweets = this.getTweets.bind(this);\n    this.refreshTweet = this.refreshTweet.bind(this);\n    this.buildTweetComponents = this.buildTweetComponents.bind(this);\n  }\n\n  componentDidMount() {\n    this.getTweets();\n    this.getLinkedAccounts();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Menubar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./images/smt-logo.png\",\n      alt: \"Social Media Toggle by Schmiel logo\",\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Menu, {\n      onLogout: this.props.onLogout,\n      twitter_accounts: this.state.twitterAccounts,\n      refreshLinkedAccounts: this.getLinkedAccounts,\n      refreshTweets: this.getTweets,\n      username: this.props.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    })), this.state.twitterAccounts.length === 0 ? /*#__PURE__*/React.createElement(LinkFirstAccount, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 63\n      }\n    }) : this.state.tweets.length === 0 ? /*#__PURE__*/React.createElement(FirstTweet, {\n      username: this.props.username,\n      updateTweets: this.getTweets,\n      twitterAccounts: this.state.twitterAccounts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"TweetsContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, this.buildTweetComponents(this.state.tweets), /*#__PURE__*/React.createElement(NewTweet, {\n      username: this.props.username,\n      updateTweets: this.getTweets,\n      twitterAccounts: this.state.twitterAccounts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    })));\n  }\n\n  buildTweetComponents(tweetObjs) {\n    let tweetComponents = tweetObjs.map((tweet, index) => /*#__PURE__*/React.createElement(Tweet, {\n      tweet: tweet,\n      twitterAccounts: this.state.twitterAccounts,\n      refreshTweet: this.refreshTweet,\n      updateTweets: this.getTweets,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 63\n      }\n    }));\n    return tweetComponents;\n  }\n\n  refreshTweet(currentTweet) {\n    let index = this.state.tweets.findIndex(element => element.post_id === currentTweet.post_id);\n\n    if (index !== -1) {\n      let editsContainer = clone(this.state.tweets);\n      editsContainer[index] = clone(currentTweet);\n      this.setState({\n        tweets: editsContainer\n      });\n    }\n  }\n\n  getTweets() {\n    fetch('https://smt-backend-naqfi.ondigitalocean.app/tweet/getUserTweets', {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.json()).then(data => this.setState({\n      tweets: data\n    }));\n  }\n\n  getLinkedAccounts() {\n    fetch('https://smt-backend-naqfi.ondigitalocean.app/account/getLinkedAccounts', {\n      method: 'GET',\n      credentials: 'include'\n    }).then(response => response.json()).then(data => this.setState({\n      twitterAccounts: data\n    }));\n  }\n\n}\n\nexport default LoggedIn;","map":{"version":3,"sources":["C:/repos/streamToggle/frontend/src/components/loggedIn.js"],"names":["React","LinkFirstAccount","FirstTweet","Menu","Tweet","NewTweet","clone","require","LoggedIn","Component","constructor","props","state","tweets","twitterAccounts","getLinkedAccounts","bind","getTweets","refreshTweet","buildTweetComponents","componentDidMount","render","onLogout","username","length","tweetObjs","tweetComponents","map","tweet","index","currentTweet","findIndex","element","post_id","editsContainer","setState","fetch","method","credentials","then","response","json","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,MAAD,CAAP,EAAd;;AAGA,MAAMC,QAAN,SAAuBR,KAAK,CAACS,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,eAAe,EAAE;AAFR,KAAb;AAKA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BH,IAA1B,CAA+B,IAA/B,CAA5B;AACH;;AAGDI,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,SAAL;AACA,SAAKF,iBAAL;AACH;;AAGDM,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAC,uBAAT;AAAiC,MAAA,GAAG,EAAC,qCAArC;AAA2E,MAAA,SAAS,EAAC,MAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWW,QAA3B;AAAqC,MAAA,gBAAgB,EAAE,KAAKV,KAAL,CAAWE,eAAlE;AAAmF,MAAA,qBAAqB,EAAE,KAAKC,iBAA/G;AAAkI,MAAA,aAAa,EAAE,KAAKE,SAAtJ;AAAiK,MAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWY,QAAtL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAMQ,KAAKX,KAAL,CAAWE,eAAX,CAA2BU,MAA3B,KAAsC,CAAtC,gBAA0C,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA1C,GACA,KAAKZ,KAAL,CAAWC,MAAX,CAAkBW,MAAlB,KAA6B,CAA7B,gBAAiC,oBAAC,UAAD;AAAY,MAAA,QAAQ,EAAE,KAAKb,KAAL,CAAWY,QAAjC;AAA2C,MAAA,YAAY,EAAE,KAAKN,SAA9D;AAAyE,MAAA,eAAe,EAAE,KAAKL,KAAL,CAAWE,eAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjC,gBACA;AAAK,MAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKK,oBAAL,CAA0B,KAAKP,KAAL,CAAWC,MAArC,CADL,eAEI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWY,QAA/B;AAAyC,MAAA,YAAY,EAAE,KAAKN,SAA5D;AAAuE,MAAA,eAAe,EAAE,KAAKL,KAAL,CAAWE,eAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CARR,CADJ;AAgBH;;AAGDK,EAAAA,oBAAoB,CAACM,SAAD,EAAY;AAC5B,QAAIC,eAAe,GAAGD,SAAS,CAACE,GAAV,CAAc,CAACC,KAAD,EAAQC,KAAR,kBAAkB,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAED,KAAd;AAAqB,MAAA,eAAe,EAAE,KAAKhB,KAAL,CAAWE,eAAjD;AAAkE,MAAA,YAAY,EAAE,KAAKI,YAArF;AAAmG,MAAA,YAAY,EAAE,KAAKD,SAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhC,CAAtB;AAEA,WAAQS,eAAR;AACH;;AAGDR,EAAAA,YAAY,CAACY,YAAD,EAAe;AACvB,QAAID,KAAK,GAAG,KAAKjB,KAAL,CAAWC,MAAX,CAAkBkB,SAAlB,CAA4BC,OAAO,IAAIA,OAAO,CAACC,OAAR,KAAoBH,YAAY,CAACG,OAAxE,CAAZ;;AAEA,QAAIJ,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,UAAIK,cAAc,GAAG5B,KAAK,CAAC,KAAKM,KAAL,CAAWC,MAAZ,CAA1B;AAEAqB,MAAAA,cAAc,CAACL,KAAD,CAAd,GAAwBvB,KAAK,CAACwB,YAAD,CAA7B;AAEA,WAAKK,QAAL,CAAc;AAAEtB,QAAAA,MAAM,EAAEqB;AAAV,OAAd;AACH;AACJ;;AAGDjB,EAAAA,SAAS,GAAG;AACRmB,IAAAA,KAAK,CAAC,kEAAD,EAAqE;AAAEC,MAAAA,MAAM,EAAE,KAAV;AAAiBC,MAAAA,WAAW,EAAE;AAA9B,KAArE,CAAL,CACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAI,KAAKP,QAAL,CAAc;AAAEtB,MAAAA,MAAM,EAAE6B;AAAV,KAAd,CAFlB;AAGH;;AAGD3B,EAAAA,iBAAiB,GAAG;AAChBqB,IAAAA,KAAK,CAAC,wEAAD,EAA2E;AAAEC,MAAAA,MAAM,EAAE,KAAV;AAAiBC,MAAAA,WAAW,EAAE;AAA9B,KAA3E,CAAL,CACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAI,KAAKP,QAAL,CAAc;AAAErB,MAAAA,eAAe,EAAE4B;AAAnB,KAAd,CAFlB;AAGH;;AAzEkC;;AA4EvC,eAAelC,QAAf","sourcesContent":["import React from 'react';\r\nimport LinkFirstAccount from './linkFirstAccount.js';\r\nimport FirstTweet from './firstTweet.js';\r\nimport Menu from './menu.js';\r\nimport Tweet from './tweets/tweet.js';\r\nimport NewTweet from './tweets/newTweet.js';\r\nconst clone = require('rfdc')();\r\n\r\n\r\nclass LoggedIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tweets: [],\r\n            twitterAccounts: [],\r\n        };\r\n\r\n        this.getLinkedAccounts = this.getLinkedAccounts.bind(this);\r\n        this.getTweets = this.getTweets.bind(this);\r\n        this.refreshTweet = this.refreshTweet.bind(this);\r\n        this.buildTweetComponents = this.buildTweetComponents.bind(this);        \r\n    }\r\n\r\n \r\n    componentDidMount() {       \r\n        this.getTweets();\r\n        this.getLinkedAccounts();   \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"Menubar\">\r\n                    <img src=\"./images/smt-logo.png\" alt=\"Social Media Toggle by Schmiel logo\" className=\"logo\" />\r\n                    <Menu onLogout={this.props.onLogout} twitter_accounts={this.state.twitterAccounts} refreshLinkedAccounts={this.getLinkedAccounts} refreshTweets={this.getTweets} username={this.props.username}/>\r\n                </div>                \r\n                {\r\n                    this.state.twitterAccounts.length === 0 ? <LinkFirstAccount /> :\r\n                    this.state.tweets.length === 0 ? <FirstTweet username={this.props.username} updateTweets={this.getTweets} twitterAccounts={this.state.twitterAccounts} /> :\r\n                    <div id=\"TweetsContainer\"> \r\n                        {this.buildTweetComponents(this.state.tweets)}\r\n                        <NewTweet username={this.props.username} updateTweets={this.getTweets} twitterAccounts={this.state.twitterAccounts} /> \r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    buildTweetComponents(tweetObjs) {\r\n        let tweetComponents = tweetObjs.map((tweet, index) => <Tweet tweet={tweet} twitterAccounts={this.state.twitterAccounts} refreshTweet={this.refreshTweet} updateTweets={this.getTweets} />)\r\n\r\n        return (tweetComponents);\r\n    }\r\n\r\n\r\n    refreshTweet(currentTweet) {\r\n        let index = this.state.tweets.findIndex(element => element.post_id === currentTweet.post_id);\r\n\r\n        if (index !== -1) {\r\n            let editsContainer = clone(this.state.tweets);\r\n\r\n            editsContainer[index] = clone(currentTweet);\r\n\r\n            this.setState({ tweets: editsContainer });\r\n        }\r\n    }\r\n\r\n\r\n    getTweets() {\r\n        fetch('https://smt-backend-naqfi.ondigitalocean.app/tweet/getUserTweets', { method: 'GET', credentials: 'include' })\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ tweets: data }));\r\n    }\r\n\r\n\r\n    getLinkedAccounts() {\r\n        fetch('https://smt-backend-naqfi.ondigitalocean.app/account/getLinkedAccounts', { method: 'GET', credentials: 'include' })\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ twitterAccounts: data }));\r\n    }\r\n}\r\n\r\nexport default LoggedIn;"]},"metadata":{},"sourceType":"module"}